<!-- eslint-disable @angular-eslint/template/eqeqeq -->
<div class="input_container-int">
    <div class="input_container-int2">
        <div class="logo">
            <h3>Status</h3>
            @for (item of itens; track $index) {
            @if (item) {
            <h5>{{item.status.replace("_"," ")}}</h5>
            }
            }
        </div>
        @for (item of itens; track $index) {
        @if (disable) {
        <div class="container">
            <div class="logo">
                <b>O chamado foi processado com sucesso. </b>
                <p>Você pode agora clicar em 'Aprovar' para confirmar a operação</p>
                <p>Clique em 'Recusar' para cancelar a operação</p>
            </div>
            <div class="button">
                <button [disabled]="habilitaBotao" (click)="atualizarstatusFechado()" mat-raised-button color="primary"
                    [mtBasicSpinner]="spinner1" [hideText]="true">Aprovar</button>
                <button [disabled]="habilitaBotao" (click)="ReabrirChamado()" mat-raised-button
                    [mtBasicSpinner]="spinner2" [hideText]="true" color="secundary">Recusar</button>
            </div>
        </div>
        }
        }
        @if (user.includes("admin")||user.includes("suporte")||user.includes("dev")) {
        @for (item of itens; track $index) {
        @if (item) {
        <div class="container" *ngIf="!done">
            <div class="logo">
                <b>Clique em Aceitar</b>

            </div>

            <div class="button">
                <button [disabled]="item.done" (click)="getRas()" [mtBasicSpinner]="spinner1" [hideText]="true"
                    mat-raised-button color="secundary">Aceitar
                    card</button>
            </div>

        </div>
        }
        }
        }
        <div class="container" *ngIf="disableAdmin">
            <div class="button">
                <mat-form-field color="primary" >
                    <mat-label>Atualizar status</mat-label>
                    <mat-select (selectionChange)="handleSelectClick($event)">
                        <mat-option style="font-size: 12px; font-family: sans-serif;">Status</mat-option>
                        @for (state of AtualizacaoStatus; track state) {
                        <mat-option style="font-size: 12px; font-family: sans-serif;"  [value]="state.status">{{state.name}}</mat-option>
                        }
                    </mat-select>
                </mat-form-field>   
            </div>

        </div>

        <div class="solicitacao">
            <span>Solicitação de serviço </span>
            <div style="background: rgb(175, 175, 240);">
                <small style="color: rgb(231, 20, 20);margin: 0 5px;">suporte {{service.servico}}</small>
            </div>
        </div>
        <div class="solicitacao">
            <span>Tecnico Responsavel</span>
            <div>
                <small style="color: rgb(231, 20, 20);margin: 0 5px;">{{nomeUsuario}}</small>
            </div>
        </div>
        @if (user.includes("suporte")) {
        <div class="log" *ngIf="disableAdmin">
            <div class="logosTop">
                <span style="color: rgb(15, 15, 15);">Visualizações</span>
                <button mat-button class="btn" (click)="buscar()">carregar</button>
            </div>
            <div class="logScroll" *ngIf="disableAdmin">
                @for (item of lodsName; track $index) {
                <div class="usuarioLog">
                    <small [innerHTML]="sanitize(item.msg)">

                    </small>
                    <small style="color: red;">{{item.timestamp}}</small>
                </div>
                }
            </div>
        </div>
        }
    </div>
</div>
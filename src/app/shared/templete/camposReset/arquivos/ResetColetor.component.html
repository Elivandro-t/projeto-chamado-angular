<form [formGroup]="myForm">
    <div class="input_container-int">
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Nome do colaborador</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" type="text" formControlName="usuario" placeholder="Nome completo.." matInput
                    #usuario (keydown.enter)="enter(setors)">
                <mat-error *ngIf="myForm.get('usuario')?.errors?.['required']&&myForm.get('usuario')?.touched">Campo
                    obrigatorio</mat-error>
            </mat-form-field>
        </div>
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Setor</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" type="text" aria-label="Setor" id="setor" formControlName="setor" #setors
                    (keydown.enter)="enter(gm)" matInput placeholder="Selecione o setor.."
                    [matAutocomplete]="auto">
                <mat-autocomplete class="auto" #auto="matAutocomplete">
                    @for (item of filteredOptions|async ; track item) {
                    <mat-option [value]="item.name.toUpperCase()">{{item.name}}</mat-option>

                    }
                </mat-autocomplete>
                <mat-error *ngIf="myForm.get('setor')?.errors?.['required']&&myForm.get('setor')?.touched">Informe
                    o setor</mat-error> </mat-form-field>

        </div>

    </div>
    <div class="input_container-int">
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Gmcore id</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" type="text" formControlName="gmid" placeholder="Gmcore id..." matInput
                    #gm (keydown.enter)="enter(cpf)">
                <mat-error *ngIf="myForm.get('gmid')?.errors?.['required']&&myForm.get('gmid')?.touched">Campo
                    obrigatorio</mat-error>
            </mat-form-field>
        </div>
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Cpf</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input  (keypress)="formatPhone($event)" (keydown)="formatPhone($event)" class="input" type="text" aria-label="Cpf" id="cpf" formControlName="cpf" #cpf
                    (keydown.enter)="enter(filial)" matInput placeholder="Selecione o setor.."
                    [matAutocomplete]="auto">
                <mat-error *ngIf="myForm.get('cpf')?.errors?.['required']&&myForm.get('cpf')?.touched">Informe
                    o setor</mat-error> </mat-form-field>

        </div>
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Filial</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" [matAutocomplete]="autoEq" type="text" formControlName="filial" placeholder="Filial" #filial
                    (keydown.enter)="enter(nomeMae)" maxlength="3" matInput />
                    <mat-autocomplete #autoEq="matAutocomplete">
                        <mat-option *ngFor="let opt of listFiliais"
                            [value]="opt.name">{{opt.name}}</mat-option>
                    </mat-autocomplete>
                <mat-error *ngIf="myForm.get('filial')?.errors?.['pattern']&&myForm.get('filial')?.touched">Apenas
                    Numeros são permitidos</mat-error>
                <mat-error *ngIf="myForm.get('filial')?.errors?.['maxlength']&&myForm.get('filial')?.touched">Máximo
                    de 3 caracteres</mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="input_container-int">
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Nome da Mae</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" type="text" aria-label="nomeMae" id="setor" formControlName="nomeMae" #nomeMae
                    (keydown.enter)="enter(nasc)" matInput placeholder="Nome da mae..">
                <mat-error *ngIf="myForm.get('nomeMae')?.errors?.['required']&&myForm.get('nomeMae')?.touched">Informe nome da mae</mat-error> </mat-form-field>

        </div>
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Data de nascimento</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input (keypress)="formatData($event)" class="input" type="text" formControlName="dataNasc" placeholder="dd/mm/aaaa" #nasc
                    (keydown.enter)="enter(adm)" matInput />
                <mat-error
                    *ngIf="myForm.get('dataNasc')?.errors?.['required']&&myForm.get('dataNasc')?.touched">Informe sua data de nascimento</mat-error>
            </mat-form-field>
        </div>
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Data admissão</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input (keypress)="formatData($event)" class="input" type="text" formControlName="dataAdmin"  #adm placeholder="dd/mm/aaaa"
                    (keydown.enter)="enter(funcao)"  matInput />
                <mat-error
                    *ngIf="myForm.get('dataAdmin')?.errors?.['required'] && myForm.get('dataAdmin')?.touched">Informe sua data de admissão</mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="input_container-int2">
        <div class="input-Top">
            <b class="ls-label-text">
                <p>Função</p>
                <p class="risc">*</p>
            </b>
            <mat-form-field class="input-form" appearance="outline">
                <input class="input" type="text" formControlName="funcao" placeholder="Funçao do usuario"
                    matInput #funcao >
                <mat-error
                    *ngIf="myForm.get('funcao')?.errors?.['required']&&myForm.get('funcao')?.touched">campo
                    obrigatorio</mat-error>
            </mat-form-field>
        </div>

        <div class="input_container textarea">
            <div class="input_container">
                <b class="ls-label-text">
                    <p>Descrição</p>
                    <p class="">*</p>
                </b>
                <editor formControlName="descricao" apiKey="{{tinyKay}}" [init]="editorConfig">
                </editor>
            </div>
        </div>
        <div>

            <app-drop (emiter)="onSelect($event)"></app-drop>
        </div>
    </div>
</form>
<div class="button">
    <button color="primary" [disabled]="!myForm.valid" class="button" (click)="onFile()" color="primary"
        mat-raised-button [mtBasicSpinner]="sprinner" [hideText]="true">Enviar</button>

</div>